<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPTC | Proyectos</title>
    <link rel="icon" href="/logoRedondo.png" type="icon/png">
    <!--Estilo propio-->
    <link rel="stylesheet" href="/projectsStyle.css">

    <!--Estilo menú-->
    <link rel="stylesheet" href="/menu.css">
</head>

<body>
    <!--Menú lateral-->
    <aside class="menu-lateral">
        <div class="logo">
            <img src="/logoRedondo.png" alt="Logo Salesianos Ricaldone">
            <br>
            <h2>
                <span class="logoSalesianos">Salesianos</span>
                <span class="logoRical">Ricaldone</span>
            </h2>
        </div>
        <nav>
            <ul>
                <li><a href="/dashboard.html" class="inicio"><img src="/homeIcon.svg" alt="home">
                        Inicio</a></li>
                <li><a href="/users.html" class="users"><img src="/usersIcon.svg" alt="users">
                        Usuarios</a></li>
                <li><a href="/projects.html" class="projects"><img src="/projectsIcon.svg" alt="projects">
                        Proyectos</a></li>
                <li><a href="/evaluation.html" class="evaluaciones"><img src="/evaluacionesIcon.svg"
                            alt="evaluaciones"> Evaluaciones</a></li>
            </ul>
        </nav>
        <div class="barra-progreso">
            <h3>Progreso Expo</h3>
            <div class="barra">
                <div class="progreso" id="progreso"></div>
            </div>
            <span id="porcentaje"></span>
        </div>
        <button class="cerrar-sesion"><img src="/logout.svg" alt="home"> Cerrar Sesión</button>
    </aside>

    <!--Alerta para cerrar sesión-->
    <div class="alert" id="alert">
        <div class="alert-box">
            <p>¿Estás seguro de que quieres cerrar sesión?</p>
            <div class="alert-buttons">
                <button id="btnConfirmar">Sí</button>
                <button id="btnCancelar">No</button>
            </div>
        </div>
    </div>

    <div id="projectFormModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h1>Nuevo Proyecto</h1>
            <form id="projectForm">
                <label>Nombre del proyecto</label>
                <input type="text" id="projectName" required>
                <label>Nivel</label>
                <select id="projectLevel">
                    <option value="">Selecciona un nivel</option>
                </select>
                <label class="labels">Sección/Grupo</label>
                <select id="projectSection">
                    <option value="">Selecciona una sección o grupo</option>
                </select>
                <label class="labels">Especialidad</label>
                <select id="projectEspecialidad">
                    <option value="">Selecciona una especialidad</option>
                </select>
                <label class="labels">ID del Proyecto</label>
                <input type="text" id="projectID" readonly>
                <label>Estudiantes</label>
                <div id="studentList"></div>
                <button type="button" id="addStudentBtn">Agregar Estudiante</button>
                <label>Estado</label>
                <label class="switch">
                    <input type="checkbox" id="projectStatus">
                    <span class="slider"></span>
                </label>
                <div class="form-buttons">
                    <button type="submit" class="insert-btn">Crear Proyecto</button>&nbsp;
                    <button type="button" id="cancelBtn" class="cancel-btn">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <div id="studentsModalOverlay" class="modal-overlay">
        <div id="studentModal" class="modal-content2">
            <div class="modal-header">
                <h2>Seleccionar Estudiantes</h2>
                <span class="close-btin">&times;</span>
            </div>
            <div class="modal-body">
                <div class="filter-container">
                    <label for="nivelFilter">Filtrar por Nivel:</label>
                    <select id="nivelFilter" class="filter-select">
                        <option value="0">Todos los níveles</option>
                        <option value="1">Séptimo</option>
                        <option value="2">Octavo</option>
                        <option value="3">Noveno</option>
                        <option value="4">1° Bachillerato</option>
                        <option value="5">2° Bachillerato</option>
                        <option value="6">3° Bachillerato</option>
                    </select>
                </div>
                <div class="search-container">
                    <input type="text" id="studentSearch" placeholder="Buscar estudiante..." class="search-input">
                </div>
                <div class="students-container">
                    <ul id="availableStudentsList" class="students-list"></ul>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="selectStudentBtn" class="btn primary-btn">Seleccionar</button>
                <button type="button" id="cancelSelectionBtn" class="btn secondary-btn">Cancelar</button>
            </div>
        </div>
    </div>

    <main>
        <div class="container">
            <div class="tabs">
                <button class="tab active" data-tab="tercerCiclo">Tercer Ciclo</button>
                <button class="tab" data-tab="bachillerato">Bachillerato</button>
                <button id="add-button"><img src="/Add box.png" alt=""> Agregar proyecto</button>
            </div>
            <br>
            <div class="container-2">
                <h2>Proyectos Activos</h2>
                <p>Se han detectado <span id="totalProyectos"></span> proyectos</p>
                <br>
                <div class="search-filter">
                    <input type=" text" id="buscar" placeholder="Buscar..." onkeyup="filtrarProyectos()">
                    <button id="filtrarBtn">Filtrar por <img src="/filtrar.png" alt="Filtro"></button>
                    <div id="filtro-menu" class="filtro-menu"></div> 
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Nombre del Proyecto</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="proyectos-container"></tbody>
                </table>
            </div>
        </div>
    </main>

    <script src="/menu.js"></script>
    <script src="/cerrarSesion.js"></script>
    <script src="/projects.js"></script>
</body>
</html>